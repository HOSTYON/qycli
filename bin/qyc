#!/bin/bash

# Reference script to run all others, placed in /usr/bin/
# example: qyc mk wp domain.com

[[ $(whoami) != "root" ]] && echo "qycli has to be run as root, try 'sudo -i' or 'su -' to become root, then try again." && exit

source /opt/qycli/bin/help
source /opt/qycli/bin/stk
source /opt/qycli/bin/upd
source /opt/qycli/bin/fn

if [[ "$1" == "mk" || "$1" == "make" ]]; then
    shift
    fn_mk "$@"
elif [[ "$1" == "ls" || "$1" == "list" ]]; then
    fn_ls
elif [[ "$1" == "set" ]]; then
    shift
    fn_set "$@"
elif [[ "$1" == "clone" ]]; then
    shift
    fn_clone "$@" 
elif [[ "$1" == "del" || "$1" == "delete" ]]; then
    shift
    fn_del "$@"  
elif [[ "$1" == "upd" || "$1" == "update" ]]; then
    upd_fn
elif [[ "$1" == "stk" || "$1" == "stack" ]]; then
    fn_stack "$@" 
elif [[ "$1" == "info" ]]; then
    fn_info_parser "$@"
else
    print_help_qyc
fi